{% extends "layout.html" %}

{% load static %}

{% block content %}
<div class="dashboard_container">
    <div class="container">
        <div class="container-header">
            <h1>Tableau de bord</h1>
            <button>Ajouter un capteur</button>
        </div>
        <div class="container-content">
            <div class="row">
                <div class="graph" id="humidity-graph">
                    
                </div>
                <div class="graph" id="temperature-graph">

                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Nom de de la sonde</th>
                        <th>Température</th>
                        <th>Humidité</th>
                        <th>Signal RSSI</th>
                        <th>Niveau de batterie</th>
                    </tr>
                </thead>
                <tbody>
                    {% if data|length < 1 %}
                        <tr>
                            <td>test</td>
                        </tr>
                        
                    {% endif %}
                    {% for sensor in data %}
                    <tr>
                        <td><a class="refTo" href="{% url 'app_capteur' sensorId=sensor.sensor_id %}">{{ sensor.sensor_id }}</a></td>
                        <td>{{ sensor.temperature }}</td>
                        <td>{{ sensor.humidity }}</td>
                        <td>{{ sensor.rssi }}</td>
                        <td>{{ sensor.battery_level }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="{% static 'js/graph.js' %}"></script>
{% endblock %}